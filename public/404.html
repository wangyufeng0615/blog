<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>404 - 迷失在银河中</title>
  <style>
    @font-face {
      font-family: 'Pixel';
      src: local('Monaco'), local('Consolas'), local('Courier New');
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #05050a;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'Pixel', monospace;
      overflow: hidden;
      image-rendering: pixelated;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      image-rendering: pixelated;
      image-rendering: crisp-edges;
    }

    .content {
      position: relative;
      z-index: 1;
      text-align: center;
      color: #fff;
    }

    .code {
      font-size: 72px;
      font-weight: bold;
      letter-spacing: 8px;
      color: #fff;
      text-shadow:
        0 0 2px #fff,
        4px 4px 0 #1a1a2e;
      margin-bottom: 16px;
    }

    .message {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.5);
      margin-bottom: 32px;
      letter-spacing: 2px;
    }

    .home-link {
      display: inline-block;
      padding: 12px 24px;
      color: #fff;
      text-decoration: none;
      font-size: 12px;
      letter-spacing: 1px;
      background: transparent;
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.2s;
    }

    .home-link:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.6);
    }
  </style>
</head>
<body>
  <canvas id="galaxy"></canvas>

  <div class="content">
    <div class="code">404</div>
    <p class="message">PAGE NOT FOUND IN THIS GALAXY</p>
    <a href="/" class="home-link">[ RETURN HOME ]</a>
  </div>

  <script>
    const canvas = document.getElementById('galaxy');
    const ctx = canvas.getContext('2d');

    // Pixel size for retro effect
    const PIXEL = 3;

    let width, height, cols, rows;
    let stars = [];
    let galaxyStars = [];
    let time = 0;

    // Color palette for the galaxy
    const galaxyColors = [
      '#ff6b9d', // pink
      '#c44dff', // purple
      '#4d94ff', // blue
      '#4dffff', // cyan
      '#ffff4d', // yellow
      '#ff944d', // orange
      '#ff4d4d', // red
      '#4dff94', // green
    ];

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      cols = Math.ceil(width / PIXEL);
      rows = Math.ceil(height / PIXEL);
      createStars();
      createGalaxy();
    }

    // Background stars - dim, white/blue
    function createStars() {
      stars = [];
      const count = Math.floor((cols * rows) / 80);
      for (let i = 0; i < count; i++) {
        stars.push({
          x: Math.floor(Math.random() * cols),
          y: Math.floor(Math.random() * rows),
          brightness: Math.random() * 0.4 + 0.1,
          twinkle: Math.random() * 0.02
        });
      }
    }

    // Galaxy band - colorful, diagonal across screen
    function createGalaxy() {
      galaxyStars = [];
      const count = Math.floor((cols * rows) / 15);

      for (let i = 0; i < count; i++) {
        // Galaxy band runs diagonally
        const t = Math.random();
        const bandX = t * cols;
        const bandY = t * rows * 0.8 + rows * 0.1;

        // Spread from the band center
        const spread = (Math.random() - 0.5) * rows * 0.35;
        const x = Math.floor(bandX + spread * 0.3);
        const y = Math.floor(bandY + spread);

        if (x < 0 || x >= cols || y < 0 || y >= rows) continue;

        // Distance from band center affects brightness and color probability
        const distFromCenter = Math.abs(spread) / (rows * 0.175);
        const isCore = distFromCenter < 0.3;

        galaxyStars.push({
          x: x,
          y: y,
          color: galaxyColors[Math.floor(Math.random() * galaxyColors.length)],
          brightness: isCore ? (Math.random() * 0.5 + 0.5) : (Math.random() * 0.6 + 0.2),
          twinkle: Math.random() * 0.03,
          phase: Math.random() * Math.PI * 2
        });
      }
    }

    function drawPixel(x, y, color) {
      ctx.fillStyle = color;
      ctx.fillRect(x * PIXEL, y * PIXEL, PIXEL, PIXEL);
    }

    function draw() {
      time += 0.016;

      // Deep space background
      ctx.fillStyle = '#05050a';
      ctx.fillRect(0, 0, width, height);

      // Draw dim background stars
      stars.forEach(star => {
        const twinkle = Math.sin(time * 2 + star.x * 0.1) * star.twinkle;
        const b = Math.max(0, Math.min(1, star.brightness + twinkle));
        const gray = Math.floor(b * 100 + 30);
        drawPixel(star.x, star.y, `rgb(${gray}, ${gray}, ${gray + 20})`);
      });

      // Draw colorful galaxy band
      galaxyStars.forEach(star => {
        const twinkle = Math.sin(time * 3 + star.phase) * star.twinkle;
        const b = Math.max(0.2, Math.min(1, star.brightness + twinkle));

        // Parse hex color and apply brightness
        const hex = star.color;
        const r = parseInt(hex.slice(1, 3), 16);
        const g = parseInt(hex.slice(3, 5), 16);
        const bVal = parseInt(hex.slice(5, 7), 16);

        const finalR = Math.floor(r * b);
        const finalG = Math.floor(g * b);
        const finalB = Math.floor(bVal * b);

        drawPixel(star.x, star.y, `rgb(${finalR}, ${finalG}, ${finalB})`);
      });

      // Draw some brighter core stars with glow effect
      galaxyStars.filter(s => s.brightness > 0.7).forEach(star => {
        const twinkle = Math.sin(time * 4 + star.phase);
        if (twinkle > 0.5) {
          // Subtle glow - adjacent pixels
          const glowAlpha = (twinkle - 0.5) * 0.3;
          const hex = star.color;
          const r = parseInt(hex.slice(1, 3), 16);
          const g = parseInt(hex.slice(3, 5), 16);
          const b = parseInt(hex.slice(5, 7), 16);

          [[0,1],[0,-1],[1,0],[-1,0]].forEach(([dx, dy]) => {
            const nx = star.x + dx;
            const ny = star.y + dy;
            if (nx >= 0 && nx < cols && ny >= 0 && ny < rows) {
              ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${glowAlpha})`;
              ctx.fillRect(nx * PIXEL, ny * PIXEL, PIXEL, PIXEL);
            }
          });
        }
      });

      requestAnimationFrame(draw);
    }

    window.addEventListener('resize', resize);
    resize();
    draw();
  </script>
</body>
</html>
